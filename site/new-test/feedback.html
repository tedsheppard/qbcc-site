<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feedback | Sopal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;450;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg-dark: #0a0a0a;
      --bg-darker: #050505;
      --green: #00d47e;
      --green-dark: #00b368;
      --text-primary: #1a1a1a;
      --text-secondary: #6b6b6b;
      --text-muted: #888;
      --border-light: #e5e5e5;
    }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; color: var(--text-primary); background: #fafafa; line-height: 1.5; -webkit-font-smoothing: antialiased; display: flex; flex-direction: column; min-height: 100vh; }
    a { text-decoration: none; color: inherit; }
    button { border: none; cursor: pointer; font-family: inherit; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 32px; }

    /* NAV */
    .nav { background: var(--bg-dark); border-bottom: 1px solid rgba(255,255,255,0.06); position: sticky; top: 0; z-index: 100; }
    .nav-inner { display: flex; align-items: center; justify-content: space-between; height: 56px; max-width: 1200px; margin: 0 auto; padding: 0 32px; }
    .nav-left { display: flex; align-items: center; gap: 32px; }
    .nav-logo { display: flex; align-items: center; gap: 8px; color: white; font-weight: 700; font-size: 17px; letter-spacing: -0.02em; }
    .nav-links { display: flex; align-items: center; gap: 24px; }
    .nav-links a { color: #999; font-size: 14px; font-weight: 450; transition: color 0.2s; }
    .nav-links a:hover { color: white; }
    .nav-links a.active { color: white; font-weight: 500; }
    .nav-right { display: flex; align-items: center; gap: 12px; }

    /* PAGE CONTENT */
    .page-wrap { flex: 1; display: flex; align-items: flex-start; justify-content: center; padding: 56px 20px 80px; }

    .feedback-card { background: white; border: 1px solid var(--border-light); border-radius: 14px; width: 100%; max-width: 520px; padding: 40px; }
    .feedback-card h1 { font-size: 22px; font-weight: 700; letter-spacing: -0.025em; margin-bottom: 4px; }
    .feedback-card .subtitle { font-size: 14px; color: var(--text-secondary); margin-bottom: 32px; line-height: 1.5; }

    /* TYPE PILLS */
    .type-selector { margin-bottom: 28px; }
    .type-selector-label { display: block; font-size: 13px; font-weight: 500; color: var(--text-secondary); margin-bottom: 10px; }
    .type-pills { display: flex; flex-wrap: wrap; gap: 8px; }
    .type-pill { display: inline-flex; align-items: center; gap: 6px; padding: 7px 16px; font-size: 13px; font-weight: 500; color: var(--text-secondary); background: #fafafa; border: 1px solid var(--border-light); border-radius: 100px; cursor: pointer; transition: all 0.15s ease; user-select: none; }
    .type-pill:hover { border-color: #ccc; color: var(--text-primary); }
    .type-pill.selected { background: #f0faf5; border-color: var(--green); color: #0a6e42; }
    .type-pill svg { width: 14px; height: 14px; flex-shrink: 0; }
    .type-pill.selected svg { stroke: #0a6e42; }

    /* FORM */
    .form-divider { height: 1px; background: var(--border-light); margin-bottom: 24px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .form-group { margin-bottom: 18px; }
    .form-group:last-child { margin-bottom: 0; }
    .form-label { display: block; font-size: 13px; font-weight: 500; color: var(--text-primary); margin-bottom: 6px; }
    .form-label .optional { font-weight: 400; color: var(--text-muted); font-size: 12px; }
    .form-input { width: 100%; padding: 9px 13px; font-size: 14px; font-family: inherit; border: 1px solid var(--border-light); border-radius: 8px; outline: none; transition: border-color 0.2s, box-shadow 0.2s; background: white; color: var(--text-primary); }
    .form-input::placeholder { color: #bbb; }
    .form-input:focus { border-color: var(--green); box-shadow: 0 0 0 3px rgba(0, 212, 126, 0.08); }
    .form-textarea { width: 100%; padding: 10px 13px; font-size: 14px; font-family: inherit; border: 1px solid var(--border-light); border-radius: 8px; outline: none; resize: vertical; min-height: 110px; transition: border-color 0.2s, box-shadow 0.2s; background: white; color: var(--text-primary); line-height: 1.5; }
    .form-textarea::placeholder { color: #bbb; }
    .form-textarea:focus { border-color: var(--green); box-shadow: 0 0 0 3px rgba(0, 212, 126, 0.08); }

    .submit-btn { width: 100%; padding: 11px; font-size: 14px; font-weight: 600; border-radius: 8px; background: var(--green); color: #000; transition: background 0.2s; margin-top: 8px; }
    .submit-btn:hover { background: var(--green-dark); }
    .submit-btn:active { transform: scale(0.995); }

    /* SUCCESS */
    .success-state { display: none; text-align: center; padding: 20px 0; }
    .success-icon { width: 48px; height: 48px; border-radius: 50%; background: #f0faf5; border: 1.5px solid #c6f0da; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 16px; }
    .success-icon svg { width: 22px; height: 22px; stroke: var(--green-dark); fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .success-state h2 { font-size: 18px; font-weight: 700; letter-spacing: -0.02em; margin-bottom: 6px; color: var(--text-primary); }
    .success-state p { font-size: 14px; color: var(--text-secondary); line-height: 1.5; }
    .success-state .back-link { display: inline-block; margin-top: 20px; font-size: 13px; font-weight: 500; color: var(--green-dark); }
    .success-state .back-link:hover { text-decoration: underline; }

    /* FOOTER */
    .footer { background: var(--bg-darker); border-top: 1px solid rgba(255,255,255,0.06); padding: 44px 0 28px; color: #777; }
    .footer-inner { display: grid; grid-template-columns: 1.8fr repeat(3, 1fr); gap: 24px; }
    .footer-brand { padding-right: 16px; }
    .footer-brand .footer-logo { display: flex; align-items: center; gap: 7px; color: white; font-weight: 700; font-size: 15px; margin-bottom: 10px; }
    .footer-brand p { font-size: 12px; color: #555; line-height: 1.5; }
    .footer-col h4 { font-size: 11px; font-weight: 600; color: #888; text-transform: uppercase; letter-spacing: 0.04em; margin-bottom: 14px; }
    .footer-col a { display: block; font-size: 13px; color: #666; margin-bottom: 7px; transition: color 0.2s; }
    .footer-col a:hover { color: white; }
    .footer-bottom { display: flex; align-items: center; justify-content: center; margin-top: 36px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.06); font-size: 12px; color: #555; }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      .form-row { grid-template-columns: 1fr; }
      .footer-inner { grid-template-columns: 1fr; }
      .feedback-card { padding: 28px 24px; }
      .page-wrap { padding: 32px 16px 60px; }
    }

    @media (max-width: 480px) {
      .type-pills { gap: 6px; }
      .type-pill { padding: 6px 12px; font-size: 12px; }
    }
  </style>
</head>
<body>

  <nav class="nav">
    <div class="nav-inner">
      <div class="nav-left">
        <a href="/new-test/" class="nav-logo"><img src="/assets/sopal_logo_white_v1.png" alt="Sopal" style="height: 22px; width: auto;"></a>
        <div class="nav-links">
          <a href="/new-test/search">Search</a>
          <a href="/new-test/adjudicators">Adjudicators</a>
          <a href="/new-test/interest-calculator">Interest Calculator</a>
          <a href="/new-test/due-date-calculator">Due Date Calculator</a>
          <a href="/new-test/how-to">How-To Guide</a>
          <a href="/new-test/feedback" class="active">Feedback</a>
        </div>
      </div>
      <div class="nav-right"></div>
    </div>
  </nav>

  <div class="page-wrap">
    <div class="feedback-card">
      <h1>Send us feedback</h1>
      <p class="subtitle">Found a bug, have an idea, or just want to say something? We'd like to hear it.</p>

      <form id="feedbackForm">
        <input type="hidden" id="feedbackType" name="type" required>
        <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off">

        <div class="type-selector">
          <span class="type-selector-label">What is this about?</span>
          <div class="type-pills">
            <div class="type-pill" data-type="bug">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
              Bug report
            </div>
            <div class="type-pill" data-type="feature">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
              Feature request
            </div>
            <div class="type-pill" data-type="content">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
              Content issue
            </div>
            <div class="type-pill" data-type="general">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
              General
            </div>
          </div>
        </div>

        <div class="form-divider"></div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Name <span class="optional">(optional)</span></label>
            <input type="text" class="form-input" name="name" placeholder="Your name">
          </div>
          <div class="form-group">
            <label class="form-label">Email <span class="optional">(optional)</span></label>
            <input type="email" class="form-input" name="email" placeholder="you@example.com">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Subject</label>
          <input type="text" class="form-input" name="subject" required placeholder="What's this about?">
        </div>
        <div class="form-group">
          <label class="form-label">Details</label>
          <textarea class="form-textarea" name="details" required placeholder="Tell us more..."></textarea>
        </div>

        <button type="submit" class="submit-btn">Send feedback</button>
      </form>

      <div class="success-state" id="successMessage">
        <div class="success-icon">
          <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
        </div>
        <h2>Feedback sent</h2>
        <p>Thanks for taking the time. We'll review this shortly.</p>
        <a href="/new-test/feedback" class="back-link">Send another</a>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-inner">
        <div class="footer-brand">
          <div class="footer-logo"><img src="/assets/sopal_logo_white_v1.png" alt="Sopal" style="height: 18px; width: auto;"></div>
          <p>An intelligent search tool for adjudication decisions under the Building Industry Fairness (Security of Payment) Act 2017 (Qld)</p>
        </div>
        <div class="footer-col"><h4>Tools</h4><a href="/new-test/search">Decision Search</a><a href="/new-test/adjudicators">Adjudicators</a><a href="/new-test/interest-calculator">Interest Calculator</a><a href="/new-test/due-date-calculator">Due Date Calculator</a></div>
        <div class="footer-col"><h4>Resources</h4><a href="/new-test/how-to">How-To Guide</a><a href="/new-test/feedback">Feedback</a></div>
        <div class="footer-col"><h4>Legal</h4><a href="/privacy">Privacy</a><a href="/terms">Terms of Use</a><a href="/account-terms">Account Terms</a><a href="/adjudicator-insights-terms">Adjudicator Insights Terms</a></div>
      </div>
      <div class="footer-bottom"><span>&copy; 2026 Sopal Australia. All rights reserved.</span> <a href="/new-test/admin" style="color:#444;margin-left:16px;font-size:11px;">Developer Login</a></div>
    </div>
  </footer>

<script>
// Feedback type selection
document.querySelectorAll('.type-pill').forEach(pill => {
  pill.addEventListener('click', function() {
    document.querySelectorAll('.type-pill').forEach(p => p.classList.remove('selected'));
    this.classList.add('selected');
    document.getElementById('feedbackType').value = this.dataset.type;
  });
});

// Form submission
document.getElementById('feedbackForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  if (!document.getElementById('feedbackType').value) {
    alert('Please select a feedback type.');
    return;
  }

  const formData = new FormData(this);

  try {
    const res = await fetch('/send-feedback', {
      method: 'POST',
      body: formData
    });

    const data = await res.json();

    if (data.ok) {
      document.getElementById('successMessage').style.display = 'block';
      this.style.display = 'none';
      document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth', block: 'center' });
    } else {
      alert('Error sending feedback: ' + data.error);
    }
  } catch (err) {
    alert('Network error: ' + err);
  }
});
</script>
<script src="/new-test/assets/js/main.js"></script>
</body>
</html>
