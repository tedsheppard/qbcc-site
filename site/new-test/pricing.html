<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pricing | Sopal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;450;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    :root { --bg-dark: #0a0a0a; --bg-darker: #050505; --green: #00d47e; --green-dark: #00b368; --text-primary: #1a1a1a; --text-secondary: #6b6b6b; --text-muted: #888; --border-light: #e5e5e5; }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; color: var(--text-primary); background: #fafafa; line-height: 1.5; -webkit-font-smoothing: antialiased; }
    a { text-decoration: none; color: inherit; }
    button { border: none; cursor: pointer; font-family: inherit; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 32px; }

    .nav { background: var(--bg-dark); border-bottom: 1px solid rgba(255,255,255,0.06); position: sticky; top: 0; z-index: 100; }
    .nav-inner { display: flex; align-items: center; justify-content: space-between; height: 56px; max-width: 1200px; margin: 0 auto; padding: 0 32px; }
    .nav-left { display: flex; align-items: center; gap: 32px; }
    .nav-logo { display: flex; align-items: center; gap: 8px; color: white; font-weight: 700; font-size: 17px; letter-spacing: -0.02em; }
    .nav-logo-icon { width: 28px; height: 28px; background: var(--green); border-radius: 7px; display: flex; align-items: center; justify-content: center; }
    .nav-logo-icon svg { width: 16px; height: 16px; }
    .nav-links { display: flex; align-items: center; gap: 24px; }
    .nav-links a { color: #999; font-size: 14px; font-weight: 450; transition: color 0.2s; }
    .nav-links a:hover { color: white; }
    .nav-right { display: flex; align-items: center; gap: 12px; }

    .page-header { background: white; border-bottom: 1px solid var(--border-light); padding: 40px 0; text-align: center; }
    .page-header h1 { font-size: 32px; font-weight: 800; letter-spacing: -0.03em; margin-bottom: 8px; }
    .page-header p { font-size: 15px; color: var(--text-secondary); }

    .pricing-content { max-width: 900px; margin: 40px auto; padding: 0 32px; }

    .status-card { background: #f0fdf4; border: 1px solid var(--green); border-radius: 12px; padding: 24px; text-align: center; margin-bottom: 32px; display: none; }
    .status-card h3 { font-size: 17px; font-weight: 700; color: #166534; margin-bottom: 6px; }
    .status-card p { font-size: 14px; color: #166534; margin: 0; }
    .status-card a { color: var(--green-dark); font-weight: 600; }

    .pricing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 48px; }
    .pricing-card { background: white; border: 2px solid var(--border-light); border-radius: 14px; padding: 32px; position: relative; transition: border-color 0.2s; }
    .pricing-card:hover { border-color: #ccc; }
    .pricing-card.highlighted { border-color: var(--green); box-shadow: 0 4px 24px rgba(0,212,126,0.12); }
    .popular-badge { position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: var(--green); color: #000; padding: 4px 16px; border-radius: 20px; font-size: 12px; font-weight: 700; }
    .plan-name { font-size: 17px; font-weight: 600; margin-bottom: 10px; }
    .plan-price { font-size: 36px; font-weight: 800; color: var(--green-dark); letter-spacing: -0.03em; margin-bottom: 4px; }
    .plan-price span { font-size: 16px; font-weight: 400; color: var(--text-muted); }
    .plan-billing { font-size: 13px; color: var(--text-secondary); margin-bottom: 20px; }
    .plan-features { list-style: none; padding: 0; margin: 0 0 24px; }
    .plan-features li { padding: 6px 0; font-size: 14px; color: var(--text-secondary); }
    .plan-features li::before { content: "\2713"; color: var(--green); font-weight: 700; margin-right: 8px; }
    .plan-btn { display: block; width: 100%; padding: 12px; font-size: 14px; font-weight: 600; border-radius: 8px; background: var(--green); color: #000; text-align: center; transition: background 0.2s; }
    .plan-btn:hover { background: var(--green-dark); }

    .faq-section { margin-bottom: 48px; }
    .faq-section h2 { font-size: 22px; font-weight: 700; letter-spacing: -0.02em; text-align: center; margin-bottom: 24px; }
    .faq-item { background: white; border: 1px solid var(--border-light); border-radius: 10px; padding: 20px; margin-bottom: 12px; }
    .faq-item h4 { font-size: 14px; font-weight: 600; margin-bottom: 6px; }
    .faq-item p { font-size: 14px; color: var(--text-secondary); margin: 0; }
    .faq-item a { color: var(--green-dark); font-weight: 600; }

    .footer { background: var(--bg-darker); border-top: 1px solid rgba(255,255,255,0.06); padding: 44px 0 28px; color: #777; }
    .footer-inner { display: grid; grid-template-columns: 1.8fr repeat(3, 1fr); gap: 24px; }
    .footer-brand { padding-right: 16px; }
    .footer-brand .footer-logo { display: flex; align-items: center; gap: 7px; color: white; font-weight: 700; font-size: 15px; margin-bottom: 10px; }
    .footer-logo-icon { width: 20px; height: 20px; background: var(--green); border-radius: 5px; display: flex; align-items: center; justify-content: center; }
    .footer-logo-icon svg { width: 12px; height: 12px; }
    .footer-brand p { font-size: 12px; color: #555; line-height: 1.5; }
    .footer-col h4 { font-size: 11px; font-weight: 600; color: #888; text-transform: uppercase; letter-spacing: 0.04em; margin-bottom: 14px; }
    .footer-col a { display: block; font-size: 13px; color: #666; margin-bottom: 7px; transition: color 0.2s; }
    .footer-col a:hover { color: white; }
    .footer-bottom { display: flex; align-items: center; justify-content: center; margin-top: 36px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.06); font-size: 12px; color: #555; }

    @media (max-width: 768px) {
      .nav-links { display: none; }
      .pricing-grid { grid-template-columns: 1fr; }
      .footer-inner { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <nav class="nav"><div class="nav-inner"><div class="nav-left"><a href="/new-test/" class="nav-logo">
  <img src="/assets/sopal_logo_white_v1.png" alt="Sopal" style="height: 22px; width: auto;">
</a><div class="nav-links"><a href="/new-test/search">Search</a><a href="/new-test/adjudicators">Adjudicators</a><a href="/new-test/interest-calculator">Interest Calculator</a><a href="/new-test/due-date-calculator">Due Date Calculator</a><a href="/new-test/how-to">How-To Guide</a><a href="/new-test/feedback">Feedback</a></div></div><div class="nav-right"></div></div></nav>

  <div class="page-header">
    <h1>Unlimited Access to Sopal</h1>
    <p>Unlock unlimited searches, full adjudicator insights, and AI decision summaries.</p>
  </div>

  <div class="pricing-content">
    <div id="already-subscribed" class="status-card">
      <h3>You're already subscribed</h3>
      <p>Manage your subscription from your <a href="/new-test/account?tab=subscription">account settings</a>.</p>
    </div>

    <div id="pending-request" class="status-card">
      <h3>Invoice request pending</h3>
      <p>Your invoice subscription request is being reviewed. We'll email you within 1 business day.</p>
    </div>

    <div id="pricing-cards" class="pricing-grid">
      <div class="pricing-card">
        <div class="plan-name">Weekly</div>
        <div class="plan-price">$12.95<span>/week</span></div>
        <div class="plan-billing">Billed weekly or monthly</div>
        <ul class="plan-features">
          <li>Unlimited decision searches</li>
          <li>Full adjudicator insights access</li>
          <li>AI-powered decision summaries</li>
          <li>Cancel anytime</li>
        </ul>
        <a href="/new-test/checkout?plan=weekly" class="plan-btn" id="btn-weekly">Select Weekly Plan</a>
      </div>
      <div class="pricing-card highlighted">
        <div class="popular-badge">Best Value</div>
        <div class="plan-name">Annual</div>
        <div class="plan-price">$520<span>/year</span></div>
        <div class="plan-billing">Just $9.95/week &mdash; save 23%</div>
        <ul class="plan-features">
          <li>Unlimited decision searches</li>
          <li>Full adjudicator insights access</li>
          <li>AI-powered decision summaries</li>
          <li>Save 23% vs weekly</li>
        </ul>
        <a href="/new-test/checkout?plan=annual" class="plan-btn" id="btn-annual">Select Annual Plan</a>
      </div>
    </div>

    <div class="faq-section">
      <h2>Frequently Asked Questions</h2>
      <div class="faq-item">
        <h4>What payment methods do you accept?</h4>
        <p>We accept all major credit and debit cards (Visa, Mastercard, Amex) via Stripe. For firms that prefer to pay by invoice, you can choose that option on the payment setup page.</p>
      </div>
      <div class="faq-item">
        <h4>Can I cancel at any time?</h4>
        <p>Yes. You can cancel your subscription at any time from your account settings. You'll retain access until the end of your current billing period.</p>
      </div>
      <div class="faq-item">
        <h4>How does the invoice process work?</h4>
        <p>Select your plan, choose "Pay by Invoice" on the payment page, and fill in your firm's billing details. An admin will review it within 1 business day. Once approved, your access is activated immediately.</p>
      </div>
      <div class="faq-item">
        <h4>Do I need an account to subscribe?</h4>
        <p>Yes. You'll need to <a href="/new-test/register">create an account</a> first, then return to this page to subscribe.</p>
      </div>
    </div>
  </div>

  <footer class="footer"><div class="container"><div class="footer-inner"><div class="footer-brand"><div class="footer-logo"><img src="/assets/sopal_logo_white_v1.png" alt="Sopal" style="height: 18px; width: auto;"></div><p>An intelligent search tool for adjudication decisions under the Building Industry Fairness (Security of Payment) Act 2017 (Qld)</p></div><div class="footer-col"><h4>Tools</h4><a href="/new-test/search">Decision Search</a><a href="/new-test/adjudicators">Adjudicators</a><a href="/new-test/interest-calculator">Interest Calculator</a><a href="/new-test/due-date-calculator">Due Date Calculator</a></div><div class="footer-col"><h4>Resources</h4><a href="/new-test/how-to">How-To Guide</a><a href="/new-test/feedback">Feedback</a></div><div class="footer-col"><h4>Legal</h4><a href="/new-test/privacy">Privacy</a><a href="/new-test/terms">Terms of Use</a><a href="/new-test/account-terms">Account Terms</a><a href="/new-test/adjudicator-insights-terms">Adjudicator Insights Terms</a></div></div><div class="footer-bottom"><span>&copy; 2026 Sopal Australia. All rights reserved.</span> <a href="/new-test/admin" style="color:#444;margin-left:16px;font-size:11px;">Developer Login</a></div></div></footer>

<script>
const token = localStorage.getItem('purchase_token');

async function initPricingPage() {
    if (!token) return;
    const headers = { 'Authorization': `Bearer ${token}` };
    try {
        const subRes = await fetch('/api/subscription-status', { headers });
        if (subRes.ok) {
            const subData = await subRes.json();
            if (subData.has_subscription) {
                document.getElementById('already-subscribed').style.display = 'block';
                document.getElementById('pricing-cards').style.display = 'none';
                return;
            }
            if (subData.pending_invoice_request) {
                document.getElementById('pending-request').style.display = 'block';
                document.getElementById('pricing-cards').style.display = 'none';
                return;
            }
        }
    } catch (e) {
        console.warn('Could not load pricing state:', e);
    }
}
initPricingPage();
</script>
<script src="/new-test/assets/js/main.js"></script>
</body>
</html>
